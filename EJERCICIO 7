CREATE DATABASE ejercicio7;

USE  ejercicio7;

CREATE TABLE USUARIOS(
	CLAVE INTEGER NOT NULL AUTO_INCREMENT,
    NOMBRE TEXT(20) NOT NULL,
    APELLIDOP TEXT(20) NOT NULL,
    APELLIDOM TEXT(20) NOT NULL,
    TIPO TEXT(12) NOT NULL,
	PRIMARY KEY(CLAVE)
);    

CREATE TABLE INVENTARIO(
	IDINVENTARIO INTEGER NOT NULL AUTO_INCREMENT,
    REALIZO TEXT(30) NOT NULL,
	PRIMARY KEY(IDINVENTARIO)
); 

CREATE TABLE PREDIOS(
	IDPREDIO INTEGER NOT NULL AUTO_INCREMENT,
    PROMEDIO TEXT(50) NOT NULL,
	ZONA TEXT(30) NOT NULL,
    CODIGOINVENTARIO INTEGER NOT NULL,
	INDEX(CODIGOINVENTARIO),
	FOREIGN KEY (CODIGOINVENTARIO) REFERENCES INVENTARIO(IDINVENTARIO),
	PRIMARY KEY(IDPREDIO)
); 

CREATE TABLE CONTRATOS(
	IDCONTRATO INTEGER NOT NULL AUTO_INCREMENT,
    CONTRATO TEXT(12) ,
	CODIGOPREDIO INT NOT NULL,
	INDEX(CODIGOPREDIO),
	FOREIGN KEY (CODIGOPREDIO) REFERENCES PREDIOS(IDPREDIO),
	PRIMARY KEY(IDCONTRATO)
); 

CREATE TABLE ORDEN(
	IDORDEN INTEGER NOT NULL AUTO_INCREMENT,
    ANOPANTA INTEGER NOT NULL,
    SUPERFICIE REAL NOT NULL,
	BLOQUE INTEGER NOT NULL,
    CODIGOCONTRATO INTEGER NOT NULL,
	INDEX(CODIGOCONTRATO),
	FOREIGN KEY (CODIGOCONTRATO) REFERENCES CONTRATOS(IDCONTRATO),
	PRIMARY KEY(IDORDEN)
); 

CREATE TABLE SITIOS(
	IDSITIO INTEGER NOT NULL AUTO_INCREMENT,
    SITIO INTEGER NOT NULL,
	CODIGOORDEN INTEGER NOT NULL,
	INDEX(CODIGOORDEN),
	FOREIGN KEY (CODIGOORDEN) REFERENCES ORDEN(IDORDEN),
	PRIMARY KEY(IDSITIO)
); 

CREATE TABLE ARBOLES(
	IDARBOL INTEGER NOT NULL AUTO_INCREMENT,
    FUENTE TEXT(10),
    ESPECIE TEXT(20),
    EDAD REAL NOT NULL,
    NUMARBOL INTEGER NOT NULL,
    DIAMETRO REAL NOT NULL,
    ALTURA REAL NOT NULL,
	CODIGOSITIO INTEGER NOT NULL,
	INDEX(CODIGOSITIO),
	FOREIGN KEY (CODIGOSITIO) REFERENCES SITIOS(IDSITIO),
	FECHAPLAN INTEGER NOT NULL,
    PRIMARY KEY(IDARBOL)
); 
